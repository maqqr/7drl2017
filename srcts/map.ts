let worldmap: Array<string> = [];
worldmap[0]  = "---------------------------------------------------------------------------";
worldmap[1]  = "---------------------------------------------------------------------------";
worldmap[2]  = "-----^^^--^^^^-------------------------------------------------------------";
worldmap[3]  = "------^^^---^^^^-----------------------------------------------------------";
worldmap[4]  = "-------^^^---^^^^^-----------------------................-----------.......";
worldmap[5]  = "---------^^^--^^^^^^..^^^^^^^^^^^^^^^.....TT......TT......---------........";
worldmap[6]  = "-----------^^^---^^^^...^^^^^^^^^^^^^...TTTTTT..TTTTTT .........---........";
worldmap[7]  = "...TTTT.TT^^^...^^^o^^.................TTTTTTTTTTTTTTTT....................";
worldmap[8]  = "....TT..^^^..^^^^^^..^^^^^^...^^^^^^^..TTTTTToTTTTTTTTT....................";
worldmap[9]  = "..TT..^^^..^^^^^....---^^^^^^...^^o^^...TTTTTTTTTTTTTT.....................";
worldmap[10] = "...T.^^o..^^^^^..T-------^^^^^^...........TTTTTTTTTT.......................";
worldmap[11] = "...^^^..^^^^^...TT---------^^^^^^...........TTTTTT........TT...............";
worldmap[12] = "..^^^..^^^^^....---------TTTT^o^^^^...........TT........TT.................";
worldmap[13] = ".........................TTT...................TT....TT....................";
worldmap[14] = ".............................................TT.....TT.....................";
worldmap[15] = "............................................TT.......TT....................";
worldmap[16] = "............................................TT......TT.....................";
worldmap[17] = "..............................................TT...TT......................";
worldmap[18] = ".......................................^^^..............^^^^^^.............";
worldmap[19] = "........................................^^^....^^^^...^^.....^.............";
worldmap[20] = ".........................................^^^^......^^...^^^^^^............."; 
worldmap[21] = "............................................^^^^......^^^^.................";
worldmap[22] = ".........................................^^^^^^...^^^^^....................";
worldmap[23] = "...........................................^^^^^^^.......^^................";

function pushToGamestate(gameState, map) {
    let ps = PS["Rogue"];
    let width = worldmap[0].length;
    let height = worldmap.length;
    let tiles = { '.': ps.Ground.create({ frozen: false })
                , '^': ps.Mountain.create({ frozen: false })
                , 'T': ps.Forest.create({ frozen: false })
                , '-': ps.Water.create({ frozen: false })
                , 'o': new ps.DungeonEntrance()
                };

    for (let y=0; y<height; y++) {
        for (let x=0; x<width; x++) {
            let char = worldmap[y][x];
            let tile = tiles[char];
            if (tile !== undefined) {
                gameState = ps.setTile(gameState)(tile)({x: x, y: y});
            }
        }
    }
    return gameState;
}